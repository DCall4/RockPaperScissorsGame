<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        let tempcomp = "string"
        function getcomputerselection () {
            let comprand = (Math.floor(Math.random() * 3) + 1)
            if (comprand === 1) {
                tempcomp = "rock"
            } else if (comprand === 2) {
                tempcomp = "paper"
            } else {
                tempcomp = "scissors"
            }
            return tempcomp
        }
        let state = "error"
        function playround(playerselection, computerselection){

            if (playerselection === "rock"){
                if (computerselection === "rock"){
                    state = "Draw, play again"
                    return state
                    
                } else if (computerselection === "paper"){
                    state = "You Lose! Paper wraps up rock"
                    return state
                } else {
                    state = "You Win! Rock crushes scissors!"
                    return state
                }

            } else if (playerselection === "paper"){
                if (computerselection === "paper"){
                    state = "Draw, play again"
                    return state
                    
                } else if (computerselection === "scissors"){
                    state = "You Lose! Scissors cuts paper"
                    return state
                } else {
                    state = "You Win! Paper wraps up rock!"
                    return state
                }

            } else if (playerselection === "scissors"){
                if (computerselection === "scissors"){
                    state = "Draw, play again"
                    return state
                    
                } else if (computerselection === "rock"){
                    state = "You Lose! Rock crushes scissors"
                    return state
                
                } else {
                    state = "You Win! Scissors cuts paper"
                    return state
                }

            } else {
                state = "invalid selection"
                return state
            }
        }
        let gameoutcome = "error"
        let score = 0
        let playerselection = "rock"
        let playerinput = "rock"
        function game() {
            for (let i = 0; i < 5; i++) {
                computerselection = getcomputerselection();
                playerinput = prompt("Rock, Paper or Scissors?")
                playerselection = playerinput.toLocaleLowerCase();
                console.log(playerselection);
                gameoutcome = playround (playerselection, computerselection);
                console.log(state);
                if (gameoutcome === "You Win! Rock crushes scissors!" || gameoutcome === "You Win! Scissors cuts paper" || gameoutcome === "You Win! Paper wraps up rock!") {
                    score++;
                } else if (gameoutcome === "invalid selection") {
                    i--
                } else {}

            }
            return score
            
        }

        
        console.log(game());
    </script>
</body>
</html>